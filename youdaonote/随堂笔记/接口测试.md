一、理论

1.什么是接口？

系统内部的数据传递

3个内容：请求地址、输入参数、返回结果

2.什么是接口测试（灰盒测试）？

系统组件间接口的一种测试

3.接口测试与功能测试的异同？

异：接口测试跳过了界面，通过代码实现。速度快（毫秒级）。介入时间提前（因为不需要界面），节省测试成本。测试的是底层的代码，提升测试效率，bug修复成本降低。

同：接口测试属于功能测试，也是一种黑盒测试。

4.接口测试用例设计

5.如何进行接口测试？

①了解需求

②熟悉接口文档：定义接口的文档（包括请求地址、输入参数、返回结果）

③设计接口的测试用例

④接口脚本维护

⑤执行

⑥bug管理

⑦总结

 二、

1. http协议：(包含请求和响应) HTTP协议（超文本传输协议）是用于从WWW服务器传输超文本到本地浏览器的传输协议。我们在浏览器的地址栏里输入的网站地址叫做URL (Uniform Resource Locator， 统一资源定位符)。就像每家每户都有一个门牌地址一样，每个网页也都有一个Internet地址。当你在 浏览器的地址框中输入一个URL或是单击一个 超级链接时，URL就确定了要浏览的地址。浏览器通过超文本传输协议(HTTP)，将Web服务器上站点的网页代码提取出来，并翻译成漂亮的网页。

（1）①URL (Uniform Resource Locator， 统一资源定位符)

②URI：统一资源标识符（Uniform Resource Identifier，或)是一个用于标识某一互联网资源名称的字符串。③URL是一种特殊的URI，HTTP协议的接口地址均为URL

端口：应用服务器

URL组成：若要传参则： 协议+域名/IP+端口（默认为80）+？+参数

不传参： 协议+域名/IP+端口（默认为80）



request：

请求行：请求方法，URL，协议版本号

            请求方法：get 若要带参数（不能带数据） 则加在？后。数据大小至多有1024字节。不安全，因为数据会显示在URL上  

                             post 数据放在请求正文里。数据大小无限制

                             put

                             delete

（MD5 ：文件的MD5值也是唯一的,效验MD5就是用来确保文件在传输过程中未被修改用的，简单地说来，就是一种安全策略，在网络上传输数据的时候，如果你是明文进行的话，那么容易受到截获，所以这样说来时很不安全的，所以引入了MD5机制，可以在传输数据的时候，将数据和密钥进行hash生成以个MD5校验值，附加在数据段的首部，那么在对方收到数据是，会将数据段重新用hash算法进行校验，若两个MD5的校验值相同，那么表示数据在传输的过程中没有收到篡改）

请求头部：针对目标作说明  mime多媒体类型

                requset header

                general header

                response header

                http header

                entity header（用于说明entity，不会单独出现在头部，而是包含在里面）

              格式   头部名称：头部信息       CRLF(carriage return/line feed)回车换行  相当于enter

                头部名称 以content这个开头的所有header都是用来说明请求正文的实体内容（entity）的 

                                     content-type 请求的与实体对应的MIME   有两种①请求实体 ：提交给服务器                             端实体（ mime信息）

②响应实体 ：服务端返回给客户端的信息

                                     content-length

                cache 缓存      

session  cookie的区别（https://blog.csdn.net/guoweimelon/article/details/50886092

同：都是用来临时存储来访者信息

异：Session由服务端生成，保存在服务器的内存、缓存、硬盘或数据库中。

       Cookie是由服务端生成的，发送给客户端（通常是浏览器）的。Cookie总是保存在客户端中，按在客户端中的存储位置，可分为内存Cookie和硬盘Cookie。

      具体来说cookie机制采用的是在客户端保持状态的方案，而session机制采用的是在服务器端保持状态的方案。

1、存放位置不同

Cookie保存在客户端，Session保存在服务端。

2 、存取方式的不同

 Cookie中只能保管ASCII字符串，假如需求存取Unicode字符或者二进制数据，需求先进行编码。Cookie中也不能直接存取Java对象。若要存储略微复杂的信息，运用Cookie是比拟艰难的。 

而Session中能够存取任何类型的数据，包括而不限于String、Integer、List、Map等。Session中也能够直接保管Java Bean乃至任何Java类，对象等，运用起来十分便当。能够把Session看做是一个Java容器类。 

3、安全性（隐私策略）的不同 

Cookie存储在浏览器中，对客户端是可见的，客户端的一些程序可能会窥探、复制以至修正Cookie中的内容。而Session存储在服务器上，对客户端是透明的，不存在敏感信息泄露的风险。 假如选用Cookie，比较好的方法是，敏感的信息如账号密码等尽量不要写到Cookie中。最好是像Google、Baidu那样将Cookie信息加密，提交到服务器后再进行解密，保证Cookie中的信息只要本人能读得懂。而假如选择Session就省事多了，反正是放在服务器上，Session里任何隐私都能够有效的保护。 

4、有效期上的不同 

只需要设置Cookie的过期时间属性为一个很大很大的数字，Cookie就可以在浏览器保存很长时间。 由于Session依赖于名为JSESSIONID的Cookie，而Cookie JSESSIONID的过期时间默许为–1，只需关闭了浏览器（一次会话结束），该Session就会失效。

5、对服务器造成的压力不同 

Session是保管在服务器端的，每个用户都会产生一个Session。假如并发访问的用户十分多，会产生十分多的Session，耗费大量的内存。而Cookie保管在客户端，不占用服务器资源。假如并发阅读的用户十分多，Cookie是很好的选择。

6、 跨域支持上的不同 

Cookie支持跨域名访问，例如将domain属性设置为“.baidu.com”，则以“.baidu.com”为后缀的一切域名均能够访问该Cookie。跨域名Cookie如今被普遍用在网络中。而Session则不会支持跨域名访问。Session仅在他所在的域名内有效。

）

              

请求正文：JSON数据（ JSON（javascript object notation）结构有两种结构：

       json简单说就是javascript中的对象和数组，所以这两种结构就是对象和数组两种结构，通过这两种结构可以表示各种复杂的结构。

对象：对象在js中表示为“{}”括起来的内容，数据结构为 {key：value,key：value,...}的键值对的结构，在面向对象的语言中，key为对象的属性，value为对应的属性值，所以很容易理解，取值方法为 对象.key 获取属性值，这个属性值的类型可以是 数字、字符串、数组、对象几种。

数组：数组在js中是中括号“[]”括起来的内容，数据结构为 ["java","javascript","vb",...]，取值方式和所有语言中一样，使用索引获取，字段值的类型可以是 数字、字符串、数组、对象几种。

       经过对象、数组2种结构就可以组合成复杂的数据结构了。）



JSON：数据交换格式（传输数据）易于解析，故常作为数据传输格式。JSON数据为键值对存储  格式为 “名称”：“值”

（1）JSON数据包含：

①“值”可以为一下几种数据类型：字符串“”  ，数值 1  ，Null  ，布尔类型  

②数组  [ ]   ，[ ]里面可以包含上面任意数据类型，也可以包含对象

③对象 { }   ，{ }里面可以包含对象（即数组 对象进行组合）

（2）JSON解析：读取JSON数据

（3）JSONPATH：XPATH在JSON解析中的一种应用

①语法结构：$开头  代表根元素

                     . 点   代表子元素  note ：包含数组元素的不用  . 点   用 [ ]  里面填位置（从0开始），后面再用  .点  定位里面具体的元素 ，也可以用通配符 *   如 $



response：（https://www.cnblogs.com/bukudekong/archive/2014/07/09/3834020.html）

状态行：状态码  状态消息  HTTP协议版本号 

状态码用来告诉HTTP客户端,HTTP服务器是否产生了预期的Response.

HTTP/1.1中定义了5类状态码， 状态码由三位数字组成，第一个数字定义了响应的类别

1XX  提示信息 - 表示请求已被成功接收，继续处理

2XX  成功 - 表示请求已被成功接收，理解，接受   常见的有：200

3XX  重定向 - 要完成请求必须进行更进一步的处理   302

4XX  客户端错误 -  请求有语法错误或请求无法实现   404

5XX  服务器端错误 -   服务器未能实现合法的请求    500

响应头部：content-encoding

                content-MD5

                last-modifed

响应正文：客户端请求之后返回的内容 



2.fiddle使用

①过滤进程：Any Process

②过滤网址：Filters

③断点breakpoint

④原理：代理了网络（8888）

抓包 代理

发包  通过composer

接口测试  通过bpu断点 bpu:ip 取消断点：bpu





3.SOUPUI



（datasourse 数据源——读取测试数据

rest soap系统架构风格  soap安全性高   成熟度soap高  效率与应用性rest高 

【Representational State Transfer描述互联系统架构风格  

总结区别： 

1.soap风格依赖与wsdl这个接口服务描述文件，通过这个wsdl文件，可以把暴露的接口中的所有方法显示出来，然后在列表中选择你要调用的方法，输入参数就可以了，相当于由wsdl只能定位到接口/类上面，具体不到那个方法。而rest风格的URI方式直接定位到方法。 

2.soap风格没有设置请求方式是get,post，还是delete,put。因为soap默认为post请求。而rest是可以自己设定请求类型的。

3.参数底层传输固定是出入参固定是xml格式的。没有json等其他形式的参数格式。rest风格的出入参数的数据类型可以是xml,json等常用格式，入参没有底层生成的任何东西，全部自己搞定，xml还是json格式，要严格符合选中的数据类型才行。】

auth 认证 

Property Transfer 参数转换  

DataSource 获取数据的 

DataSource loop 循环

Assertion TestStep 断言

Delay 延时

Mock 挡板）

流程

① 抓包（防止接口文档数据错误，因为接口文档里面只有接口地址，而没有HTTP协议详细信息）查看输入参数、响应结果、请求头部

②模拟请求

    1）编写脚本

    2）把接口接通，能成功访问接口

③编写测试脚本  Test Suite

     1）准备测试数据（测试用例）

     2）调用接口

     3）断言（检查预期结果与实际结果是否一致）

JDBC(JAVA读取数据库的东西)：Java Data Base Connectivity (java数据库连接），可以为多种数据库提供填统一的访问。JDBC是sun开发的一套数据库访问编程接口，是一种SQL级的API。它是由java语言编写完成，所以具有很好的跨平台特性，使用JDBC编写的数据库应用程序可以在任何支持java的平台上运行，而不必在不同的平台上编写不同的应用程序。JDBC可做三件事：与数据库建立连接、发送SQL语句并处理结果



${DataSourse名称 # 参数}      变量引用

DataSourse loop  Target Step 选择的步骤应该取该步骤与DataSourse loop之间包含所有步骤的那一个步骤，因为第二次循环会从该步骤开始

检查结果unknown 是因为用了全局检查点，解决方法：用局部检查点

 open_id



作业：发消息





一个TestCase代表一个接口测试，包含所有该接口的测试用例

接口测试：

1.单接口测试

2.多接口测试



接口测试用例的设计：

1.传统的黑盒测试：只考虑输入的数据，然后对输出的结果进行验证

2.从输出的结果进行考虑





需要勾上Post QueryString : form表单形式，URL上有参数

def 可以定义任何的数据类型  相当于Java中的object

testRunner=testsuite

httprequest   





JMeter （全称Apache Jmeter） :  性能测试工具，针对WEB的传输数据速度、丢包率等。由于他的测试特性，也可将其看作为接口测试工具  jar(可看做Jmeter的接口，Jmeter相当于界面)

note:专业性能测试工具  ：LoadRunner(LR) 、QTP(自动测试工具) 、QC(测试管理工具)

有关远程：分布式执行：控制机 、执行机  （控制机控制多台执行机，执行不同内容）



线程相当于CPU   多线程  以线程为单位运行

Ramp-Up Period(in seconds)  ：1秒执行多少个线程

HTTPClient  Java用来做http的架包，可不选

上传文件必须勾选：Use multipart/form-data for POST



测试 元件：

1。作用范围：在当前层级

2.执行顺序：配置元件

                    逻辑控制器

                    定时器

                    前置处理器

                    sampler

                    后置处理器

                     断言

                     监听器

note：①同类型的测试元件为  从上而下依次执行

②若没有sample，则前置处理器、 后置处理器、断言均不会执行

3、正则表达式提取器：

①正则表达式  ：  （.+?）   括号表提取，点表示下一个字符，加号、问号表示次数

②模板：当有多个表达式时，取第几个表达式

③匹配数字：表达式中的具体第几个值



































































